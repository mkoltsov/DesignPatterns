//This pattern is a compound of observer, composite and strategy patterns